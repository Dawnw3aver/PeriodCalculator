# PeriodCalculator
Docker-образ доступен по ссылке: [PeriodCalculator Docker Hub](https://hub.docker.com/repository/docker/dawnweave/periodcalculator/general)
---

## Описание работы

Приложение разделено на три основные части:

1. **Модель периода (`Period.cs`)**
   Определяет структуру данных, описывающую период с активными днями и часами.  
   Поля:  
     - `List<HashSet> DaysOfWeek` — список активных дней недели.
     - `DateTime StartDate` — дата начала периода.
     - `DateTime EndDate` — дата окончания периода.
     - `int StartHour` — начало активного часа (включительно).
     - `int EndHour` — конец активного часа (не включительно).

2. **Парсер (`Parser.cs`)**
   Отвечает за чтение и обработку данных из входного файла.  
   Основная задача — преобразование текстового файла в массив объектов `Period`.  
   Логика:  
     - Читает файл построчно.
     - Каждые 5 строк интерпретируются как данные одного периода.
     - Проверяет корректность формата данных и преобразует их в объект `Period`.

3. **Калькулятор часов (`Calculator.cs`)**
   Основная задача — вычисление общего количества активных часов без дублирования пересекающихся периодов.  
   Логика:  
     - Для каждого периода:
       - Определяет даты, подпадающие под период, и фильтрует их по активным дням недели.
       - Для каждой даты добавляет активные часы в уникальный набор (`HashSet`), чтобы избежать дублирования.
     - Подсчитывает итоговое количество уникальных активных часов.

## Запуск с помощью Docker
Чтобы запустить приложение в Docker, нужно выполнить команду:  
`docker run --rm -v {path}:/app/periods.txt dawnweave/periodcalculator:latest /app/periods.txt`  
Где `path` это полный путь к файлу с периодами, расположенный на локальной машине. Путь должен содержать прямые слеши.  
Например, `docker run --rm -v C:/Users/User/Desktop/input.txt:/app/periods.txt dawnweave/periodcalculator:latest /app/periods.txt`
